{% extends "layouts/layout-defra.html" %}

{% block pageTitle %}
Back office: User application
{% endblock %}
{% set serviceName %}
Annual Health and Welfare Back Office
{% endset%}

{% block beforeContent %}
<div class="govuk-phase-banner govuk-!-padding-top-0">
  <p class="govuk-phase-banner__content">
    <strong style="background-color:#00a33b;" class="govuk-tag govuk-phase-banner__content__tag">
      Beta
    </strong>
    <span class="govuk-phase-banner__text">
      This is a new service – your <a class="govuk-link" href="#">feedback</a> will help us to improve it.
    </span>
  </p>
</div>

<a class="govuk-back-link govuk-!-margin-bottom-0" href="../a-digital.html">Back</a>
{% endblock %}

{% block content %}

<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    
    <h1 class="govuk-caption-l govuk-!-margin-bottom-3">
      Claim number: AHWR-F021-715S
    </h1>

    <h2 class="govuk-heading-l">
      Pig herd M
      <strong class="govuk-tag govuk-tag--purple">
       On hold
      </strong>
    </h2>

    <div class="govuk-panel govuk-panel--confirmation govuk-!-text-align-left" style="background-color:#fafafa; border-color:#000000; border-width:medium;">
      <a href="x-fearnley-farm-pig.html" role="button" draggable="false" class="govuk-link govuk-body" style="color:#505a5f; float:right;" data-module="govuk-button">
        Back
      </a>
      <br>
      <div class="govuk-form-group">
        <fieldset class="govuk-fieldset" aria-describedby="waste-hint">
          <legend class="govuk-fieldset__legend govuk-fieldset__legend--l">
            <h1 class="govuk-fieldset__heading">
              Move claim to 'in check'
            </h1>
            <div class="govuk-!-padding-bottom-7"></div>
    
            <div class="govuk-checkboxes" data-module="govuk-checkboxes">
              <div class="govuk-checkboxes__item">
                <input class="govuk-checkboxes__input" id="on-hold-validation" name="on-hold-validation" type="checkbox" value="on-hold-validation">
                <label class="govuk-label govuk-checkboxes__label" for="on-hold-validation">
                  I have reviewed this claim and recommend it is&nbsp;moved to ‘in check‘
                </label>
              </div>
              <div class="govuk-checkboxes__item">
                <input class="govuk-checkboxes__input" id="issues-log" name="issues-log" type="checkbox" value="issues-log">
                <label class="govuk-label govuk-checkboxes__label" for="issues-log">
                  I have updated the issues log to show this claim is now ‘in check’
                </label>
              </div>
            </div>
          </legend></fieldset>
        </div>
    
        <a href="../internal/x-fearnley-farm-pig-in-check" role="button" draggable="false" class="govuk-button govuk-button govuk-!-margin-bottom-2" data-module="govuk-button">
          Confirm and continue
        </a>
      </div>

    <!--User details-->
    <dl class="govuk-summary-list govuk-!-margin-bottom-9">
      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">
          Name
        </dt>
        <dd class="govuk-summary-list__value">
          <p>Phil Fearnley</p>
        </dd>
      </div>

      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">
          SBI number:
        </dt>
        <dd class="govuk-summary-list__value">
          103491987
        </dd>
      </div>

      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">
          Address
        </dt>
        <dd class="govuk-summary-list__value">
          Manor Farm Rd, Harleston IP20 0AX
        </dd>
      </div>

      <div class="govuk-summary-list__row">
        <dt class="govuk-summary-list__key">
          Email Address
        </dt>
        <dd class="govuk-summary-list__value">
          <p>fearnley-sons@hotmail.com</p>
        </dd>
      </div>
    </dl>

    <!--Application stages (in tabs)-->
    <div class="govuk-tabs" data-module="govuk-tabs">
      <h2 class="govuk-tabs__title">
        Contents
      </h2>
      <ul class="govuk-tabs__list">
        <!--<li class="govuk-tabs__list-item">
          <a class="govuk-tabs__tab" href="#applied">
            Agreement
          </a>
        </li>-->
        <li class="govuk-tabs__list-item govuk-tabs__list-item--selected">
          <a class="govuk-tabs__tab" href="#claimed">
            Claim
          </a>
          </li>
          <li class="govuk-tabs__list-item">
            <a class="govuk-tabs__tab" href="#history">
              History
            </a>
            </li>
      </ul>

      <!--<div class="govuk-tabs__panel" id="applied">
        <h2 class="govuk-heading-l">On hold</h2>
        <table class="govuk-table">
          <tbody class="govuk-table__body">
            <tr class="govuk-table__row">
              <tr class="govuk-table__row">
                <th scope="row" class="govuk-table__header">Date of agreement</th>
                <td class="govuk-table__cell">13/02/2023</td>
              </tr>
              <th scope="row" class="govuk-table__header">Business details correct</th>
              <td class="govuk-table__cell">Yes</td>
            </tr>
            <tr class="govuk-table__row">
              <th scope="row" class="govuk-table__header">Terms and conditions</th>
              <td class="govuk-table__cell">Accepted</td>
            </tr>
            <tr class="govuk-table__row">
              <th scope="row" class="govuk-table__header">Agreement accepted</th>
              <td class="govuk-table__cell">Yes</td>
            </tr>
          </tbody>
        </table>
      </div>-->
      

      <div class="govuk-tabs__panel govuk-tabs__panel--hidden" id="claimed">
        <h2 class="govuk-heading-l">On hold</h2>
        <table class="govuk-table">
          <tbody class="govuk-table__body">
 <tr class="govuk-table__row">
              <th scope="row" class="govuk-table__header">Date of review	</th>
              <td class="govuk-table__cell">19/04/2023</td>
            </tr>
            <tr class="govuk-table__row">
              <th scope="row" class="govuk-table__header">Date of claim</th>
              <td class="govuk-table__cell">18/02/2023</td>
            </tr> 
            <tr class="govuk-table__row">
              <th scope="row" class="govuk-table__header">Type of visit</th>
              <td class="govuk-table__cell">Pig</td>
            </tr>
            <tr class="govuk-table__row">
              <th scope="row" class="govuk-table__header">Number of livestock</th>
              <td class="govuk-table__cell">Minimum 51</td>
            </tr>
  <tr class="govuk-table__row">
              <th scope="row" class="govuk-table__header">Review details confirmed</th>
              <td class="govuk-table__cell">Yes</td>
            </tr>   
            <tr class="govuk-table__row">
              <th scope="row" class="govuk-table__header">Vet’s name</th>
              <td class="govuk-table__cell">Corrine Bailey</td>
            </tr>
            <tr class="govuk-table__row">
              <th scope="row" class="govuk-table__header">Vet’s RCVS number</th>
              <td class="govuk-table__cell">10938475</td>
            </tr>
            <tr class="govuk-table__row">
              <th scope="row" class="govuk-table__header">Test results unique 
                reference number (URN)</th>
              <td class="govuk-table__cell">URN-7366-28DE</td>
            </tr>
            <tr class="govuk-table__row">
              <th scope="row" class="govuk-table__header">Herd vaccination status </th>
              <td class="govuk-table__cell">Vaccinated</td>
            </tr>
            <tr class="govuk-table__row">
              <th scope="row" class="govuk-table__header">Tests carried out by vet </th>
              <td class="govuk-table__cell">4</td>
            </tr>
            <tr class="govuk-table__row">
              <th scope="row" class="govuk-table__header">Herd vaccination status </th>
              <td class="govuk-table__cell">Vaccinated</td>
            </tr>
            <tr class="govuk-table__row">
              <th scope="row" class="govuk-table__header">Disease status category</th>
              <td class="govuk-table__cell">4</td>
            </tr>
            <tr class="govuk-table__row">
              <th scope="row" class="govuk-table__header">Biosecurity assessment</th>
              <td class="govuk-table__cell">85%</td>
            </tr>
          </tbody>
        </table>
      
      </div>

      <div class="govuk-tabs__panel govuk-tabs__panel--hidden" id="history">
        <h2 class="govuk-heading-l">History</h2>
        <table class="govuk-table">
          <tbody class="govuk-table__body">
            <tr class="govuk-table__row">
              <th scope="col" class="govuk-table__header">Date</th>
              <th scope="col" class="govuk-table__header">Time</th>
              <th scope="col" class="govuk-table__header">Action</th>
              <th scope="col" class="govuk-table__header">User</th>
            </tr>
          </thead>
          <tbody class="govuk-table__body">
            <tr class="govuk-table__row">
              <td class="govuk-table__cell">23/03/2023</td>
              <td class="govuk-table__cell">10:00:12</td>
              <td class="govuk-table__cell">Recommend to reject</td>
              <td class="govuk-table__cell">Daniel Jones</td>
            </tr>
            <tr class="govuk-table__row">
              <td class="govuk-table__cell">24/03/2023</td>
              <td class="govuk-table__cell">09:30:00</td>
              <td class="govuk-table__cell">Recommended to pay</td>
              <td class="govuk-table__cell">Daniel Jones</td>
            </tr>
            <tr class="govuk-table__row">
              <td class="govuk-table__cell">25/03/2023</td>
              <td class="govuk-table__cell">11:10:15</td>
              <td class="govuk-table__cell">Authorise to reject</td>
              <td class="govuk-table__cell">Amanda Hassan</td>
            </tr>
            <tr class="govuk-table__row">
              <td class="govuk-table__cell">25/03/2023</td>
              <td class="govuk-table__cell">11:10:15</td>
              <td class="govuk-table__cell">Authorise to pay</td>
              <td class="govuk-table__cell">Amanda Hassan</td>
            </tr>
      </div>    
          </tbody>
        </table>

        
      </div>
    </div>
  

      </div>


      </form>

      </div>

      
      
    </div>

  </div>
</div>

<script>
  function handleConfirmation() {
    var onHoldCheckbox = document.getElementById('on-hold-validation');
    var issuesLogCheckbox = document.getElementById('issues-log');

    if (onHoldCheckbox.checked && issuesLogCheckbox.checked) {
      // Redirect user to Google if both checkboxes are selected
      window.location.href = 'https://www.google.com';
    } else {
      // Display error message if both checkboxes are not selected
      var errorSummary = document.createElement('div');
      errorSummary.className = 'govuk-error-summary';
      errorSummary.setAttribute('aria-labelledby', 'error-summary-title');
      errorSummary.setAttribute('role', 'alert');
      errorSummary.setAttribute('data-module', 'govuk-error-summary');

      var errorTitle = document.createElement('h2');
      errorTitle.className = 'govuk-error-summary__title';
      errorTitle.id = 'error-summary-title';
      errorTitle.textContent = 'There is a problem';

      var errorBody = document.createElement('div');
      errorBody.className = 'govuk-error-summary__body';

      var errorList = document.createElement('ul');
      errorList.className = 'govuk-list govuk-error-summary__list';

      var errorItem = document.createElement('li');
      var errorLink = document.createElement('a');
      errorLink.href = '/back-office/v18/internal/x-greenfield-recommend-to-pay-check-error#checkbox-error';
      errorLink.textContent = 'Select both checkboxes';
      errorItem.appendChild(errorLink);

      errorList.appendChild(errorItem);
      errorBody.appendChild(errorList);

      errorSummary.appendChild(errorTitle);
      errorSummary.appendChild(errorBody);

      // Remove existing error summary if it exists
      var existingErrorSummary = document.querySelector('.govuk-error-summary');
      if (existingErrorSummary) {
        existingErrorSummary.parentNode.removeChild(existingErrorSummary);
      }

      // Insert new error summary below the h2 element
      var h2Element = document.querySelector('.govuk-heading-l');
      h2Element.parentNode.insertBefore(errorSummary, h2Element.nextSibling);
    }
  }
</script>



{% endblock %}


