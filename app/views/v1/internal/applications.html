{% extends "layouts/layout-defra.html" %}

{% block pageTitle %}
Back office: Applications
{% endblock %}
{% set serviceName %}
Annual Health and Welfare Back Office
{% endset%}

{% block beforeContent %}
<div class="govuk-phase-banner govuk-!-padding-top-0">
  <p class="govuk-phase-banner__content">
    <strong style="background-color:#00a33b;" class="govuk-tag govuk-phase-banner__content__tag">
      beta
    </strong>
    <span class="govuk-phase-banner__text">
      This is a new service â€“ your <a class="govuk-link" href="#">feedback</a> will help us to improve it.
    </span>
  </p>
</div>
{% endblock %}

{% block content %}

<!-- Title + Search -->
<div class="govuk-grid-row">
  <div class="govuk-grid-column-two-thirds">
    
    <h1 class="govuk-heading-xl govuk-!-margin-bottom-7">
      AHWR Applications
    </h1>

    <div class="user-search-box govuk-!-width-two-thirds">
      <label class="govuk-label govuk-label--s" for="user-search">
        Search
      </label>
      <div id="heading-hint" class="govuk-hint govuk-!-margin-bottom-3">
        Reference number, organisation or SBI number
      </div>
      <form action="/v7/l2/users/search/search-results-none" method="post" class="form">
        <input class="govuk-input" id="user-search" name="user-search" type="text" aria-describedby="user-search-hint" spellcheck="false">
        <button style="background-color:#008938;" class="search-button" data-module="govuk-button">
            Search
        </button>
      </form>
    </div>

  </div>
</div>

<!-- Filters -->
<br><br>
<a href="applications-filters" role="button" class="govuk-button govuk-button--secondary">
  Show filters
</a>

<!-- Table -->
<div class="govuk-grid-row">
  <div class="govuk-grid-column-full">
{% set filterOptionsHtml %}

  {{ govukInput({
    id: 'keywords',
    name: 'keywords',
    label: {
      text: 'Keywords',
      classes: 'govuk-label--m'
    }
  }) }}

  {{ govukCheckboxes({
    idPrefix: 'status',
    name: 'status',
    classes: "govuk-checkboxes--small",
    fieldset: {
      legend: {
        text: 'Status',
        classes: 'govuk-fieldset__legend--m'
      }
    },
    items: [
      {
        value: '1',
        text: 'APPLIED (5)',
        checked: true
      },
      {
        value: '2',
        text: 'DATA INPUTTED (3)'
      },
      {
        value: '3',
        text: 'CLAIMED (13)'
      }
    ]
  }) }}

{% endset %}


<div class="moj-filter-layout">

  <div class="moj-filter-layout__filter">

    {{ mojFilter({
      heading: {
      text: 'Filter'
      },
      selectedFilters: {

      heading: {
        text: 'Selected filters'
      },

      clearLink: {
        text: 'Clear filters'
      },

      categories: [
        {
          heading: {
            text: 'Status'
          },
          items: [{
            href: '#',
            text: 'APPLIED'
          }]
        }
      ]
    },
      optionsHtml: filterOptionsHtml
    }) }}

  </div>

  <div class="moj-filter-layout__content">

  <div class="moj-action-bar">

    <div class="moj-action-bar__filter"></div>

  </div>

  <div class="moj-scrollable-pane">

    <div class="moj-scrollable-pane__wrapper">
    <div class="govuk-scrollable-pane">
      <div class="govuk-scrollable-pane__wrapper">

      {{ govukTable({
        firstCellIsHeader: false,
        attributes: { "data-module": "moj-sortable-table"},
        head: [
          {text: "Reference"},
          {text: "Organisation"},
          {text: "SBI Number",
                attributes: {
                  "aria-sort": "ascending"
                }
          },
          {text: "Apply date",
                attributes: {
                  "aria-sort": "ascending"
                }
          },
          {text: "Status",
                attributes: {
                  "aria-sort": "ascending"
                }
          },
          {text: "Action"}
        ],

        rows: [

          [
            {html: "VV-021-24S"},
            {html: "Mill Farm"},
            {
              text: "107264765",
              format: "number",
              attributes: {
                "data-sort-value": 107264765
              }
            },
            {
              text: "12/08/2022",
              format: "date",
              attributes: {
                "data-sort-value": "12/08/2022"
              }
            },
            {
              html: '<strong class="govuk-tag govuk-tag--green">Applied</strong>',
              attributes: {
                "data-sort-value": "Applied"
              }
            },
            {html: "<a href='applications/mill-farm'>View details</a>"}
          ],

          [
            {html: "VV-021-23D"},  
            {html: "Arthington Dairy Ltd"},
            {text: "106599006"},
            {
              text: "26/07/2022",
              format: "date",
              attributes: {
                "data-sort-value": "26/07/2022"
              }
            },
            {
              html: '<strong class="govuk-tag govuk-tag--yellow">Data inputted</strong>',
              attributes: {
                "data-sort-value": "Data inputted"
              }
            },
            {html: "<a href='applications/arthington-farm'>View details</a>"}
          ],

          [
            {html: "VV-021-22B"},
            {html: "D B Stockwell & Son"},
            {text: "103489123"},
            {
              text: "03/07/2022",
              format: "date",
              attributes: {
                "data-sort-value": "03/07/2022"
              }
            },
            {
              html: '<strong class="govuk-tag govuk-tag--blue">Claimed</strong>',
              attributes: {
                "data-sort-value": "Claimed"
              }
            },
            {html: "<a href='applications/stockwell-farm'>View details</a>"}
          ],

          [
            {html: "VV-021-21B"},
            {html: "P & D Fearnley & Sons"},
            {text: "103491987"},
            {
              text: "11/08/2022",
              format: "date",
              attributes: {
                "data-sort-value": "11/08/2022"
              }
            },
            {
              html: '<strong class="govuk-tag govuk-tag--green">Applied</strong>',
              attributes: {
                "data-sort-value": "Applied"
              }
            },
            {html: "<a href='applications/fearnley-farm'>View details</a>"}
          ],

          [
            {html: "VV-021-20D"},
            {html: "Deer Park Farm"},
            {text: "106712004"},
            {
              text: "09/07/2022",
              format: "date",
              attributes: {
                "data-sort-value": "09/07/2022"
              }
            },
            {
              html: '<strong class="govuk-tag govuk-tag--orange">Fraud Check</strong>',
              attributes: {
                "data-sort-value": "Fraud Check"
              }
            },
            {html: "<a href='applications/deer-park-farm'>View details</a>"}
          ],

          [
            {html: "VV-021-19B"},
            {html: "Bishopwoods Farm"},
            {text: "108901125"},
            {
              text: "22/06/2022",
              format: "date",
              attributes: {
                "data-sort-value": "22/06/2022"
              }
            },
            {
              html: '<strong class="govuk-tag govuk-tag--purple">Accepted</strong>',
              attributes: {
                "data-sort-value": "Accepted"
              }
            },
            {html: "<a href='business'>View details</a>"}
          ],

          [
            {html: "VV-021-18P"},
            {html: "Holte Farm"},
            {text: "108659387"},
            {
              html: "14/06/2022",
              format: "date",
              attributes: {
                "data-sort-value": "14/06/2022"
              }
            },
            {
              html: '<strong class="govuk-tag govuk-tag">Paid</strong>',
              attributes: {
                "data-sort-value": "Paid"
              }
            },
            {html: "<a href='business'>View details</a>"}
          ],

          [
            {html: "VV-021-17B"},
            {html: "Stockeld Park Farm"},
            {text: "108902387"},
            {
              html: "29/06/2022",
              format: "date",
              attributes: {
                "data-sort-value": "29/06/2022"
              }
            },
            {
              html: '<strong class="govuk-tag govuk-tag--blue">Claimed</strong>',
              attributes: {
                "data-sort-value": "Claimed"
              }
            },
            {html: "<a href='business'>View details</a>"}
          ],

          [
            {html: "VV-021-16S"},
            {html: "JP Metcalfe & Son"},
            {text: "107458967"},
            {
              html: "20/07/2022",
              format: "date",
              attributes: {
                "data-sort-value": "20/07/2022"
              }
            },
            {
              html: '<strong class="govuk-tag govuk-tag--grey">Withdrawn</strong>',
              attributes: {
                "data-sort-value": "Withdrawn"
              }
            },
            {html: "<a href='business'>View details</a>"}
          ],

          [
            {html: "VV-021-15S"},
            {html: "Stubbings Mill Farm"},
            {text: "108966003"},
            {
              html: "17/06/2022",
              format: "date",
              attributes: {
                "data-sort-value": "17/06/2022"
              }
            },
            {
              html: '<strong class="govuk-tag govuk-tag--pink">Rejected</strong>',
              attributes: {
                "data-sort-value": "Rejected"
              }
            },
            {html: "<a href='user-application'>View details</a>"}
          ]

        ]
      }) }}

      <nav role="navigation" aria-label="Pagination">
        <div class="pagination__summary">
            Showing 1 &ndash; 10 of 34 organisations
        </div>

        <ul class="pagination">
          <li class="pagination__item">
              <span class="pagination__link disabled" aria-label="Previous page">
                  <span aria-hidden="true" role="presentation">&laquo;</span> Previous
              </span>
          </li>

          <li class="pagination__item">
              <span class="pagination__link current" aria-label="Page 1">1</span>
          </li>

          <li class="pagination__item">
              <a style="color:#008938;" class="pagination__link" href="all-2" aria-label="Page 2">2</a>
          </li>

          <li class="pagination__item">
              <a style="color:#008938;" class="pagination__link" href="all-3" aria-label="Page 3">3</a>
          </li>

          <li class="pagination__item">
              <a style="color:#008938;" class="pagination__link" href="all-2" aria-label="Next page">
                  Next <span aria-hidden="true" role="presentation">&raquo;</span>
              </a>
          </li>
        </ul>
      </nav>
      
      </div>
    </div>
    </div>
  </div>
  </div>
</div>
</div>
</div>

{% endblock %}
